# 웹 페이지 배포하기 (S3, Cloudfront)

## 웹 서비스를 배포할 때 사용하는 S3, CloudFront

### ✅ S3는 ‘파일 저장 서비스’이지 않나?

이전 강의에서 S3는 파일 저장 서비스라고 표현했다. 사실 S3는 파일 저장 이외에도 부가적인 기능을 가지고 있다.<br> 
그 중 하나가 ‘**정적 웹 사이트 호스팅**’ 기능이다. 쉽게 표현하자면 **웹 서비스를 다른 사용자들도 쓸 수 있게 인터넷에 배포**하는 걸 뜻한다.


### ✅ CloudFront란? 
> 한 줄 요약 : 컨텐츠(파일, 동영상 등)를 빠르게 전송하게 해주는 서비스이다.

AWS CloudFront가 어떻게 컨텐츠를 빠르게 전송하게 해주는지 작동 과정을 알아보자. 

<img src="https://github.com/hyewon218/kim-jpa2/assets/126750615/83b91af6-e5e8-421b-8857-bf6666fb0ab0" width="30%"/><br>

컨텐츠(파일, 동영상)는 S3라는 곳에 저장될 것이다. 하지만 그 S3 저장소가 한국에 있다고 가정하자.<br>  
그러면 한국 사용자는 S3와 거리가 가까우므로 데이터를 빠르게 전송받을 수 있다.<br>  
하지만 미국에 있는 사용자가 S3로부터 데이터를 전송받으려면 거리가 멀어 시간이 오래 걸리게 된다. 

이런 문제를 해결하기 위해 전세계 곳곳에 컨텐츠(파일, 동영상)의 복사본을 저장해놓을 수 있는 임시 저장소를 구축한다.<br> 
그러면 미국에 있는 사용자가 컨텐츠를 전송받고 싶을 때, 가장 가까운 임시 저장소에서 컨텐츠를 가져오면 훨씬 속도가 빨라진다.

이런 형태의 서비스를 보고 CDN(Content Delivery Network)이라고 부른다. 그래서 CloudFront를 CDN 서비스라고도 표현한다. 

### ✅ CloudFront는 왜 사용하는 걸까?

S3만 사용해도 웹 서비스를 배포할 수 있다.

> 그렇다면 CloudFront는 왜 필요한걸까?

위의 설명에 따르면 CloudFront는 **컨텐츠를 전송 받는 성능을 향상시키기 위해 사용**한다.<br> 
그리고 **HTTPS를 적용**하려면 CloudFront를 사용해야만 한다.<br> 
S3에는 HTTPS를 적용시키는 기능을 제공하고 있지 않다. 이 외에도 **보안을 한층 강화**할 수 있다는 장점이 있다.

이러한 장점들 덕분에 S3와 CloudFront를 같이 써서 웹 서비스를 배포한다.

### ✅ 현업에서 웹 서비스를 배포할 때 S3, CloudFront를 많이 사용할까?
**현업에서 웹 서비스를 배포할 때 실제로 S3와 CloudFront를 많이 활용하고 있다. 그러니 잘 배워두자.**

참고로 웹 서비스를 배포할 때 S3, CloudFront도 많이 사용하지만, Netlify, Vercel, Cloudflare와 같은 서비스를 사용하기도 한다. 이런 서비스가 있다는 것만 알아두자. 


## S3, CloudFront를 활용한 아키텍처 구성
<img src="https://github.com/hyewon218/kim-jpa2/assets/126750615/bc490699-18a0-486d-ab24-20c797839e2b" width="30%"/><br>

## [실습] 1. S3 버킷 생성하기
### ✅ S3에서만 사용하는 용어 정리

S3에서는 **버킷(Bucket)** 과 **객체(Object)** 라는 용어를 사용한다. 이 용어에 대해 알아보자.
> 버킷(Bucket)이란?
> ⇒ 깃헙(Github)을 보면 여러 개의 Repository를 만들 수 있다. S3에서도 여러 개의 저장소를 만들 수 있다.<br> 
> 여기서 하나의 저장소를 버킷(Bucket)이라고 부른다. 

> 객체(Object)이란?
> ⇒ S3에 업로드한 파일을 보고, S3에서는 파일(File)이라 부르지 않고 객체(Object)라고 부른다.<br> 
> 즉, 객체(Object)란 S3 버킷에 업로드된 파일을 의미한다. 

